<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Never Give Up</title>
</head>

<body class="conteudo_total">

    <div id="cabecalho" class="header">
        <div class="container">
            <img src="img/LOGO.png" alt="Logo da Never Give Up">
            <ul>
                <li> <a href="index.html">HOME</a> </li>
                <li class="current_page"> <a href="">Fórum</a> </li>
                <li> <a href="sobre.html">SOBRE</a> </li>
                <li> <a href="cadastro.html">CADASTRO</a> </li>
                <li> <a href="login.html">LOGIN</a> </li>
            </ul>
        </div>
    </div>

    <div class="div_estado_emocional">
        <div class="container_estado_emocional">
            <form method="POST" id="form_estado_emocional" onsubmit="return inserir_estado_emocional()">
                <div class="box_happy">
                    <input type="radio" name="estado_emocional" id="" value="usuario_feliz" >
                    <img src="./img/emoji_feliz.png" alt="emoji_feliz">
                </div>
                <div class="box_normal">
                    <input type="radio" name="estado_emocional" id="" value="usuario_normal">
                    <img src="./img/emoji_normal.png" alt="emoji_normal">
                </div>
                <div class="box_sad">
                    <input type="radio" name="estado_emocional" id="" value="usuario_sad">
                    <img src="./img/emoji_triste.png" alt="emoji_triste">
                </div>

                <input type="submit"  id="id_btn_estado_emocional">

            </form>
        </div>
    </div>

    <div class="div_auto_conhecimento">

        <h1>Como você reage a estes estados emocionais?</h1>

        <form method="POST" id="form_auto_conhecimento" onsubmit="return inserir()">

            <span>Timidez</span> <input autocomplete="off" maxlength="150" type="text" name="timidez" id="idTimidez">

            <span>Oratoria</span> <input autocomplete="off" maxlength="150" type="text" name="oratoria" id="idOratoria">

            <p class="span_quebra_expectativa">Quebra de expectativa</p> <input autocomplete="off" maxlength="150"
                type="text" name="quebraDeExpectativa" id="idQuebraDeExpectativa">

            <span>Solidao</span><input autocomplete="off" maxlength="150" type="text" name="solidao" id="idSolidao">

            <span>Saudade</span><input autocomplete="off" maxlength="150" type="text" name="saudade" id="idSaudade">

            <span>Felicidade</span><input autocomplete="off" maxlength="150" type="text" name="felicidade"
                id="idFelicidade">

            <span>Conquista</span><input autocomplete="off" maxlength="150" type="text" name="conquista"
                id="idConquista">

            <!--<input type="submit" value="inserir">Inserir dados</button>-->

            <!--<input type="submit" value="inserir">-->

            <button type="submit">Enviar</button>

        </form>

        <div id="div_erro" style="background-color: sandybrown; color: maroon; display: none;">
            Erro ao inserir dados
        </div>

    </div>

    <div class="div_pessoa_melhor">

        <h1>Como você acha que deveria reagir a estes estados emocionais para se tornar uma pessoa melhor?</h1>

        <form method="POST" id="form_pessoa_melhor" onsubmit="return inserirPessoaMelhor()">

            <span>Timidez</span><input autocomplete="off" maxlength="150" type="text" name="timidez" id="idTimidez2">

            <span>Oratoria</span> <input autocomplete="off" maxlength="150" type="text" name="oratoria"
                id="idOratoria2">

            <p>Quebra de expectativa</p><input autocomplete="off" maxlength="150" type="text" name="quebraDeExpectativa"
                id="idQuebraDeExpectativa2">

            <span>Solidao</span><input autocomplete="off" maxlength="150" type="text" name="solidao" id="idSolidao2">

            <span>Saudade</span><input autocomplete="off" maxlength="150" type="text" name="saudade" id="idSaudade2">

            <span>Felicidade</span><input autocomplete="off" maxlength="150" type="text" name="felicidade"
                id="idFelicidade2">

            <span>Conquista</span><input autocomplete="off" maxlength="150" type="text" name="conquista"
                id="idConquista2">

            <!--<input type="submit" value="inserir">Inserir dados</button>-->

            <!--<input type="submit" value="inserirPessoaMelhor">-->

            <button type="submit">Enviar</button>

        </form>
    </div>



</body>

</html>

<script>
    function inserir() {
        // aguardar();
        var formulario = new URLSearchParams(new FormData(form_auto_conhecimento));
        var idUsuario = sessionStorage.id_usuario_meuapp;
        fetch(`/usuarios/inserir/${idUsuario}`, {
            method: "POST",
            body: formulario
        }).then(function (response) {
            if (response.ok) {

                alert("Dados inseridos na tbl autoconhecimento com sucesso!");

                // window.location.href = 'login.html';


            } else {

                console.log('Erro ao inserir dados na tbl autoconhecimento!');
                response.text().then(function (resposta) {
                    div_erro.innerHTML = resposta;
                });
                // finalizar_aguardar();
            }
        });

        return false;
    }

    function inserirPessoaMelhor() {
        // aguardar();
        var formulario = new URLSearchParams(new FormData(form_pessoa_melhor));
        var idUsuario = sessionStorage.id_usuario_meuapp;
        fetch(`/usuarios/inserirPessoaMelhor/${idUsuario}`, {
            method: "POST",
            body: formulario
        }).then(function (response) {
            if (response.ok) {

                alert("Dados inseridos na tbl PessoaMelhor com sucesso!");

                // window.location.href = 'login.html';


            } else {

                console.log('Erro ao inserir dados na tbl PessoaMelhor!');
                response.text().then(function (resposta) {
                    div_erro.innerHTML = resposta;
                });
                // finalizar_aguardar();
            }
        });

        return false;
    }

    function inserir_estado_emocional() {
        // aguardar();
        var formulario = new URLSearchParams(new FormData(form_estado_emocional));
        var idUsuario = sessionStorage.id_usuario_meuapp;
        fetch(`/usuarios/inserir_estado_emocional/${idUsuario}`, {
            method: "POST",
            body: formulario
        }).then(function (response) {
            if (response.ok) {

                alert("Dados inseridos na tbl estado_emocional com sucesso!");

                // window.location.href = 'login.html';


            } else {

                console.log('Erro ao inserir dados na tbl estado_emocional!');
                response.text().then(function (resposta) {
                    // div_erro.innerHTML = resposta;
                });
                // finalizar_aguardar();
            }
        });

        return false;
    }

</script>